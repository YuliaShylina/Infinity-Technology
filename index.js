import{i as w,S as I}from"./assets/vendor-DUjQUmGA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function H(){const t=document.querySelectorAll(".accordion-block");t.forEach(e=>{const n=e.querySelector(".accordion-title"),r=e.querySelector(".accordion-content"),o=n.querySelector("span");n.addEventListener("click",()=>{e.classList.contains("active")?(e.classList.remove("active"),r.classList.remove("active"),r.style.maxHeight=0,o.querySelector("svg").style.transform="rotate(0deg)"):(t.forEach(s=>{s.classList.remove("active"),s.querySelector(".accordion-content").classList.remove("active"),s.querySelector(".accordion-content").style.maxHeight=0,s.querySelector("span svg").style.transform="rotate(0deg)"}),e.classList.add("active"),r.classList.add("active"),r.style.maxHeight=r.scrollHeight+"px",o.querySelector("svg").style.transform="rotate(180deg)")}),e===t[0]&&(e.classList.add("active"),r.classList.add("active"),r.style.maxHeight=r.scrollHeight+"px",o.querySelector("svg").style.transform="rotate(180deg)")})}function $(){const t=document.querySelector(".work-together-form"),e=document.querySelector(".work-together-backdrop"),n=document.querySelector(".work-together-modal-btn-closing"),r=document.querySelector(".work-together-input-email"),o=document.querySelector(".work-together-error-message"),s=document.querySelector(".work-together-adress-icon-form"),a=document.querySelector(".work-together-input-message"),E=document.querySelector(".work-together-modal-main"),T=document.querySelector(".work-together-modal-second"),h={},P="https://portfolio-js.b.goit.study/api/";t.addEventListener("submit",p=>{if(p.preventDefault(),r.value.trim()!==""&&r.value.trim()!==" ")if(o.classList.remove("active"),/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(r.value.trim())===!0){s.classList.remove("hidden"),r.style.color="black",h.email=r.value,h.comment=a.value;const M={method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json; charset=UTF-8"}};fetch(`${P}requests`,M).then(l=>{if(!l.ok)throw new Error(l.status);return l.json()}).then(l=>{E.textContent=l.title,T.textContent=l.message,e.classList.add("active"),s.classList.remove("hidden")}).catch(l=>{w.info({title:"Info",message:"Sorry, something went wromg, please check your request once more, fill all the fields"}),console.log(l)})}else o.innerHTML="Please input correct Email adress",r.style.color="red",o.classList.add("active");else o.innerHTML="Field Email cannot be blank",o.classList.add("active")}),n.addEventListener("click",()=>{e.classList.remove("active"),r.value="",s.classList.add("hidden"),a.value=""}),e.addEventListener("click",p=>{p.target.classList.value!=="work-together-modal-btn-closing"&&p.target.classList.value!=="work-together-modal"&&(e.classList.remove("active"),r.value="",s.classList.add("hidden"),a.value="")}),document.addEventListener("keydown",p=>{p.key==="Escape"&&(e.classList.remove("active"),r.value="",s.classList.add("hidden"),a.value="")})}const d=document.querySelector(".third-section-list"),b=document.querySelectorAll(".dot"),S=d.children.length,B=4;let u=0;const L=d.children[0].offsetWidth+20;for(let t=0;t<B;t++){const e=d.children[t].cloneNode(!0);d.appendChild(e)}function q(){d.style.transition="transform 0.8s ease-in-out",d.style.transform=`translateX(-${u*L}px)`,u===S&&setTimeout(()=>{d.style.transition="none",u=0,d.style.transform=`translateX(-${u*L}px)`},800)}function x(){b.forEach((t,e)=>{t.classList.toggle("active",e===u%S)})}b.forEach((t,e)=>{t.addEventListener("click",()=>{u=e,q(),x()})});setInterval(()=>{u++,q(),x()},3e3);const A="/Infinity-Technology/assets/icons-B35chDDx.svg",C="https://portfolio-js.b.goit.study/api",k=document.querySelector(".swiper-wrapper"),c=document.querySelector(".swiper-button-prev"),v=document.querySelector(".swiper-button-next"),m=c.querySelector(".icon-swipe-prev use"),y=v.querySelector(".icon-swipe-next use");let g;const N=async()=>{try{const t=await fetch(`${C}/reviews`);if(!t.ok)throw new Error("Failed to fetch reviews");return await t.json()}catch(t){throw w.error({title:"Error",message:"Failed to fetch reviews. Please try again later.",position:"topRight"}),t}},O=t=>t.map(({author:e,avatar_url:n,review:r})=>`
    <li class='swiper-slide user-review'>
      <p class='text-review'>${r}</p>
      <div class='icon-photo-name'>
        <img
          src="${n}"
          alt="${e}"
          width="40"
          height="40"
          class="avatar-icon"
        />
        <p class="user-name-review">${e}</p>
      </div>
    </li>`).join(""),F=async()=>{try{g=await N(),g.length>0&&(k.innerHTML+=O(g),f.update())}catch(t){console.log(t),k.innerHTML="<p class='not-found'>Not found</p>",i(c,!0,m,"reviews-grey-btn-prev"),i(v,!0,y,"reviews-grey-btn-next")}},f=new I(".swiper-container",{breakpoints:{1280:{slidesPerView:2,spaceBetween:32},768:{slidesPerView:1,spaceBetween:24},360:{slidesPerView:1,spaceBetween:16}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},autoHeight:!0,keyboard:{enabled:!0,onlyInViewport:!0},simulateTouch:!0,allowTouchMove:!0,on:{slideChange:()=>{const t=f.activeIndex,e=f.params.slidesPerView,n=g.length;t===0?document.body.classList.contains("body-dark")?i(c,!0,m,"reviews-dark-grey-btn-prev"):i(c,!0,m,"reviews-grey-btn-prev"):document.body.classList.contains("body-dark")?i(c,!1,m,"reviews-white-btn-prev"):i(c,!1,m,"reviews-black-btn-prev"),t>=n-e?(document.body.classList.contains("body-dark")?i(v,!0,y,"reviews-dark-grey-btn-next"):i(v,!0,y,"reviews-grey-btn-next"),w.info({title:"Info",message:"Sorry, no more reviews for now.",position:"topRight",color:"green"})):document.body.classList.contains("body-dark")?i(v,!1,y,"reviews-white-btn-next"):i(v,!1,y,"reviews-black-btn-next")}}}),i=(t,e,n,r)=>{t.disabled=e,n.setAttribute("href",`${A}#${r}`),e?t.style.cursor="not-allowed":t.style.cursor=""};document.body.classList.contains("body-dark")?i(c,!0,m,"reviews-dark-grey-btn-prev"):i(c,!0,m,"reviews-grey-btn-prev");c.addEventListener("click",()=>{f.slidePrev()});v.addEventListener("click",()=>{f.slideNext()});F();H();$();
//# sourceMappingURL=index.js.map
